Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.taraffac\">\r\n    <!--\r\n         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\r\n         Google Maps Android API v2, but you must specify either coarse or fine\r\n         location permissions for the \"MyLocation\" functionality.\r\n    -->\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".add\" />\r\n        <!--\r\n             The API key for Google Maps-based APIs is defined as a string resource.\r\n             (See the file \"res/values/google_maps_api.xml\").\r\n             Note that the API key is linked to the encryption key used to sign the APK.\r\n             You need a different API key for each encryption key, including the release key that is used to\r\n             sign the APK for publishing.\r\n             You can define the keys for the debug and release targets in src/debug/ and src/release/.\r\n        -->\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n\r\n        <activity\r\n            android:name=\".map\"\r\n            android:label=\"@string/title_activity_map\"/>\r\n\r\n        <activity android:name=\".edit_profile\" />\r\n        <activity android:name=\".profile\" />\r\n        <activity android:name=\".report\" />\r\n        <activity android:name=\".edit_speed_bump\" />\r\n        <activity android:name=\".register\"/> >\r\n        <activity android:name=\".login\" />\r\n        <activity android:name=\".MainActivity\" >\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision f18d2d1e321d509e84e86c564dbb8fc4e3e8fbda)
+++ app/src/main/AndroidManifest.xml	(date 1607043108809)
@@ -39,17 +39,17 @@
 
         <activity android:name=".edit_profile" />
         <activity android:name=".profile" />
-        <activity android:name=".report" />
-        <activity android:name=".edit_speed_bump" />
-        <activity android:name=".register"/> >
-        <activity android:name=".login" />
-        <activity android:name=".MainActivity" >
+        <activity android:name=".report" >
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
 
                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
         </activity>
+        <activity android:name=".edit_speed_bump" />
+        <activity android:name=".register"/>
+        <activity android:name=".login" />
+        <activity android:name=".MainActivity" />
     </application>
 
 </manifest>
\ No newline at end of file
Index: app/src/main/java/com/example/taraffac/edit_speed_bump.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.taraffac;\r\n\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.media.AudioManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.speech.RecognizerIntent;\r\nimport android.speech.tts.TextToSpeech;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Locale;\r\n\r\npublic class edit_speed_bump extends AppCompatActivity {\r\n    Button profile;\r\n    Button log, But_Update_bump, But_Delete_bump;\r\n    String TypeValue,SizeValue;\r\n    RadioButton RadioType1, RadioType2,RadioType3,RadioSize1,RadioSize2,RadioSize3, RadioType,RadioSize;\r\n    RadioGroup RadioGroupTypeUpdate,RadioGroupSizeUpdate;\r\n    public String Cushion=\"Cushion\";\r\n    public String Table=\"Table\";\r\n    public String Small=\"Small\";\r\n\r\n    public String Midium=\"Midium\";\r\n    DatabaseReference dataBympUpdate;\r\n    double latitude;\r\n    double longitude;\r\n    String bump_id,bump_loc ;\r\n    int deleteCount;\r\n    String userType;\r\n    static final String TAG = \"TTS\";\r\n    TextToSpeech mTts;\r\n    String state1;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit_speed_bump);\r\n\r\n        But_Update_bump= findViewById(R.id.update_edite_bump);\r\n        But_Delete_bump= findViewById(R.id.update_delete_bump);\r\n        RadioType1=findViewById(R.id.update_cushion2);\r\n        RadioType2= findViewById(R.id.update_table2);\r\n        RadioType3= findViewById(R.id.update_hump2);\r\n        RadioSize1= findViewById(R.id.update_small);\r\n        RadioSize2= findViewById(R.id.update_mid2);\r\n        RadioSize3= findViewById(R.id.update_large2);\r\n\r\n        RadioGroupTypeUpdate= findViewById(R.id.update_type);\r\n        RadioGroupSizeUpdate= findViewById(R.id.update_size);\r\n\r\n        dataBympUpdate = FirebaseDatabase.getInstance().getReference(\"SpeedBump\");//.child(bump_id);\r\n\r\n        // show the retrieve data\r\n        TypeValue= getIntent().getExtras().getString(\"type\");\r\n        SizeValue =getIntent().getExtras().getString(\"size\");\r\n        bump_id =getIntent().getExtras().getString(\"key\");\r\n        bump_loc =getIntent().getExtras().getString(\"loc\");\r\n        latitude =getIntent().getExtras().getDouble(\"latitude\");\r\n        longitude=getIntent().getExtras().getDouble(\"longitude\");\r\n        deleteCount=getIntent().getExtras().getInt(\"deleteCount\");\r\n        userType = getIntent().getExtras().getString(\"userType\");\r\n\r\n        if (TypeValue.equals(Cushion) ) {\r\n\r\n            RadioType1.setChecked(true);\r\n        }else if (TypeValue.equals(Table) ){\r\n            RadioType2.setChecked(true);\r\n        }else{\r\n            RadioType3.setChecked(true);\r\n\r\n        }\r\n        if (SizeValue.equals(Small) ) {\r\n            RadioSize1.setChecked(true);\r\n        }else if (SizeValue.equals(Midium) ){\r\n            RadioSize2.setChecked(true);\r\n        }else{\r\n            RadioSize3.setChecked(true);\r\n\r\n        }       //end  show the retrieve data\r\n        // voice\r\n        if(userType.toLowerCase().contains(\"Voice\".toLowerCase())){ read(); }\r\n\r\n\r\n        // Delete Speed Bump\r\n        But_Delete_bump.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) { delete();\r\n\r\n            }\r\n        });\r\n        But_Update_bump.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Update_Bump();\r\n            }\r\n        });\r\n\r\n    }// end method  ;\r\n\r\n    public String checkType(){\r\n        int radioID = RadioGroupTypeUpdate.getCheckedRadioButtonId();\r\n        RadioType = findViewById(radioID);\r\n        String CheckType = (String) RadioType.getText();\r\n        return CheckType ;\r\n    }\r\n\r\n    public String checkSize(){\r\n        int radioID = RadioGroupSizeUpdate.getCheckedRadioButtonId();\r\n        RadioSize = findViewById(radioID);\r\n        String CheckSize = (String) RadioSize.getText();\r\n        return CheckSize ;\r\n    }\r\npublic void delete(){\r\n        if(deleteCount>=3){\r\n    dataBympUpdate.child(bump_loc).child(bump_id).removeValue();\r\n}else{\r\n    String TypeText,SizeText;\r\n    TypeText=checkType();\r\n    SizeText=checkSize();\r\n    deleteCount++;\r\n    SpeedBump bump = new SpeedBump ( latitude, longitude, TypeText, SizeText,deleteCount);\r\n    dataBympUpdate.child(bump_loc).child(bump_id).setValue(bump);\r\n}\r\n    onBackPressed();\r\n    }\r\n    public void Update_Bump() {// Update Speed Bump\r\n        String TypeText,SizeText;\r\n        TypeText=checkType();\r\n        SizeText=checkSize();\r\n\r\n        if(!TypeText.isEmpty() & !SizeText.isEmpty() ) {\r\n\r\n// add in database\r\n\r\n           // String id = dataBympUpdate.push().getKey();\r\n\r\n            SpeedBump bump = new SpeedBump ( latitude, longitude, TypeText, SizeText,deleteCount);\r\n            dataBympUpdate.child(bump_loc).child(bump_id).setValue(bump);\r\n\r\n            Toast t = Toast.makeText(this, \" The Update was successful\", Toast.LENGTH_SHORT);\r\n            t.setGravity(Gravity.TOP, 0, 90);\r\n            t.show();\r\n        }else {\r\n            Toast t = Toast.makeText(this, \" The Update was failed\", Toast.LENGTH_SHORT);\r\n            t.setGravity(Gravity.TOP, 0, 90);\r\n            t.show();\r\n\r\n\r\n        }\r\n        //Intent log = new Intent(this,map.class);\r\n        //startActivity(log);\r\n\r\n        onBackPressed();\r\n    }// Update Speed Bump\r\n\r\n\r\n    public void back_map2(View view) {\r\n        Intent go_map1= new Intent(this,map.class);\r\n        startActivity(go_map1);\r\n    }\r\n\r\n\r\n    public void back_ntofiy(View view) {\r\n        onBackPressed();\r\n\r\n    }\r\n\r\n\r\n    // this method convert text to speech\r\n    void speak(String s){\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Log.v(TAG, \"Speak new API\");\r\n            Bundle bundle = new Bundle();\r\n            bundle.putInt(TextToSpeech.Engine.KEY_PARAM_STREAM, AudioManager.STREAM_MUSIC);\r\n            mTts.speak(s, TextToSpeech.QUEUE_FLUSH, bundle, null);\r\n        } else {\r\n            Log.v(TAG, \"Speak old API\");\r\n            HashMap<String, String> param = new HashMap<>();\r\n            param.put(TextToSpeech.Engine.KEY_PARAM_STREAM, String.valueOf(AudioManager.STREAM_MUSIC));\r\n            mTts.speak(s, TextToSpeech.QUEUE_FLUSH, param);\r\n        }\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        // Don't forget to shutdown tts!\r\n        if (mTts != null) {\r\n            Log.v(TAG,\"onDestroy: shutdown TTS\");\r\n            mTts.stop();\r\n            mTts.shutdown();\r\n        }\r\n    }\r\n\r\n    // the result from user voice become as array list and this method split the values for each element in arraylist\r\n    public static String[] spliteArray(ArrayList<String> array) {\r\n        String[] tmp= new String[20];\r\n        for(String line : array) {\r\n            tmp = line.split(\"\\\\s+\"); //split on one or more spaces\r\n        }\r\n        return tmp;\r\n    }\r\n\r\n    // this is the main methon for voice command\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    public void read(){\r\n\r\n        final String emailid1;\r\n        emailid1 =  \"if you want to edit select the type and size   \" +\r\n                \"Or if you want to delete say Delete ?\";\r\n\r\n        mTts = new TextToSpeech(getApplicationContext(), new TextToSpeech.OnInitListener() {\r\n            @Override\r\n            public void onInit(int status) {\r\n                if (status == TextToSpeech.SUCCESS) {\r\n                    int result = mTts.setLanguage(Locale.US);\r\n                    if (result == TextToSpeech.LANG_MISSING_DATA\r\n                            || result == TextToSpeech.LANG_NOT_SUPPORTED) {\r\n                        Toast.makeText(getApplicationContext(), \"This language is not supported\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else{\r\n                        Log.v(\"TTS\",\"onInit succeeded\");\r\n                        speak(emailid1); }\r\n                } else { Toast.makeText(getApplicationContext(), \"Initialization failed\", Toast.LENGTH_SHORT).show(); }}\r\n        });\r\n        setVolumeControlStream(AudioManager.STREAM_MUSIC);\r\n\r\n        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {getSpeechInput(); }}, 10000); //  1000 = 1 sec\r\n    }\r\n\r\n    // speech to text\r\n    private void getSpeechInput() {\r\n        Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n\r\n        if (intent.resolveActivity(getPackageManager()) != null) {\r\n            startActivityForResult(intent, 10);\r\n        } else {\r\n            Toast.makeText(this, \"Your Device Don't Support Speech Input\", Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    // this function get the result from the above function\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        switch (requestCode) {\r\n            case 10:\r\n                if (resultCode == RESULT_OK && data != null) {\r\n                    ArrayList<String> result = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n                    assert result != null;\r\n                    String[] newA = spliteArray(result);\r\n                    state1= testtype(newA);\r\n                    if (state1.equals(\"delete\")){\r\n                        delete();\r\n                    } else {\r\n                    Update_Bump(); }\r\n\r\n                    break;} }}\r\n\r\n\r\n    // this method check radio buttons\r\n    public String testtype(String[] x){\r\n        String state =\"edit\";\r\n        for (String n: x) {\r\n            if (n.equals(\"cushion\")) {\r\n                ((RadioButton) RadioGroupTypeUpdate.getChildAt(0)).setChecked(true);\r\n\r\n            }\r\n            if (n.equals(\"table\")) {\r\n                ((RadioButton) RadioGroupTypeUpdate.getChildAt(1)).setChecked(true);\r\n            }\r\n            if (n.equals(\"hump\")) {\r\n                ((RadioButton) RadioGroupTypeUpdate.getChildAt(2)).setChecked(true);\r\n            }\r\n            if (n.equals(\"small\")) {\r\n                ((RadioButton) RadioGroupSizeUpdate.getChildAt(0)).setChecked(true);\r\n            }\r\n            if (n.equals(\"medium\")) {\r\n                ((RadioButton) RadioGroupSizeUpdate.getChildAt(1)).setChecked(true);\r\n            }\r\n            if (n.equals(\"large\")) {\r\n                ((RadioButton) RadioGroupSizeUpdate.getChildAt(2)).setChecked(true);\r\n            }\r\n        if (n.equals(\"delete\")){\r\n            state=\"delete\";\r\n        }\r\n        }\r\n\r\n    return state;}\r\n\r\n\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/taraffac/edit_speed_bump.java	(revision f18d2d1e321d509e84e86c564dbb8fc4e3e8fbda)
+++ app/src/main/java/com/example/taraffac/edit_speed_bump.java	(date 1607104628237)
@@ -1,8 +1,5 @@
 package com.example.taraffac;
 
-import androidx.annotation.RequiresApi;
-import androidx.appcompat.app.AppCompatActivity;
-
 import android.content.Intent;
 import android.media.AudioManager;
 import android.os.Build;
@@ -19,6 +16,9 @@
 import android.widget.RadioGroup;
 import android.widget.Toast;
 
+import androidx.annotation.RequiresApi;
+import androidx.appcompat.app.AppCompatActivity;
+
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
 
@@ -149,8 +149,6 @@
 
 // add in database
 
-           // String id = dataBympUpdate.push().getKey();
-
             SpeedBump bump = new SpeedBump ( latitude, longitude, TypeText, SizeText,deleteCount);
             dataBympUpdate.child(bump_loc).child(bump_id).setValue(bump);
 
@@ -164,8 +162,7 @@
 
 
         }
-        //Intent log = new Intent(this,map.class);
-        //startActivity(log);
+
 
         onBackPressed();
     }// Update Speed Bump
Index: app/src/main/java/com/example/taraffac/profile.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.taraffac;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.textfield.TextInputLayout;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\nimport java.util.Objects;\r\n\r\n//import android.widget.ImageView;\r\n//import java.util.jar.Attributes;\r\n\r\npublic class profile extends AppCompatActivity {\r\n    Button edit;\r\n    Button log;\r\n    Button del;\r\n    ImageView imageProfil1;\r\n    TextInputLayout fullName , Email, type;\r\n    FirebaseAuth fAuth;\r\n    FirebaseFirestore fStore;\r\n    StorageReference  storageReference;\r\n    FirebaseUser  firebaseUser;\r\n\r\n    String usedId;\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n        edit = findViewById(R.id.edit_profile);\r\n       // log = findViewById(R.id.but_log_out5);\r\n        del = findViewById(R.id.delete_profile);\r\n        imageProfil1= findViewById(R.id.user_image);\r\n        storageReference = FirebaseStorage.getInstance().getReference();\r\n        fAuth = FirebaseAuth.getInstance();\r\n        firebaseUser = fAuth.getCurrentUser();\r\n        type=findViewById(R.id.adding_pro);\r\n\r\n        fullName =findViewById(R.id.name_pro);\r\n        Email= findViewById(R.id.email_pro);\r\n        fStore =FirebaseFirestore.getInstance();\r\n        //////////////////////\r\n\r\n      //  usedId = Objects.requireNonNull(fAuth.getCurrentUser()).getUid();\r\n        //retrev data ///\r\n        final DocumentReference documentReference =fStore.collection(\"users\").document(Objects.requireNonNull(fAuth.getCurrentUser()).getUid());\r\n        documentReference.addSnapshotListener(this, new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot documentSnapshot, @Nullable FirebaseFirestoreException e) {//start method\r\n                assert documentSnapshot != null;\r\n                Email.getEditText().setText(documentSnapshot.getString(\"email\"));\r\n                fullName.getEditText().setText(documentSnapshot.getString(\"Name\"));\r\n                type.getEditText().setText(documentSnapshot.getString(\"addingType\"));\r\n                //setText(documentSnapshot.getString(\"addingType\"));// type.setEditText(String.valueOf(documentSnapshot.getString(\"addingType\"));\r\n               // type.setText(String.valueOf(documentSnapshot.getString(\"addingType\"));\r\n\r\n\r\n            }\r\n        });//end method\r\n        //\r\n        edit.setOnClickListener(new View.OnClickListener() {// start setOnClickListener\r\n            @Override\r\n            public void onClick(View v) {\r\n                // open Gallery\r\n                //  Intent openGalleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                // startActivityForResult(openGalleryIntent, 1000 );\r\n                Intent i = new Intent(v.getContext(),edit_profile.class);\r\n                i.putExtra(\"fullName\",String.valueOf(fullName.getEditText().getText()));//String.valueOf(LEmail.getEditText().getText())   fullName.getText().toString()\r\n                i.putExtra(\"email\",String.valueOf(Email.getEditText().getText()));//Email.getText().toString()\r\n                i.putExtra(\"addingType\",String.valueOf(type.getEditText().getText()));//type.getText().toString()\r\n\r\n\r\n                startActivity(i);\r\n            }\r\n        });//End setOnClickListener\r\n        //\r\n\r\n        // start delet Account\r\n        del.setOnClickListener(new View.OnClickListener() { // start setOnClickListener\r\n            @Override\r\n            public void onClick(View v) {// start onClick\r\n                AlertDialog.Builder b = new AlertDialog.Builder(profile.this);\r\n                b.setTitle(\"Are you sure you want to delete your account ?\");\r\n                b.setPositiveButton(\"yes\", new DialogInterface.OnClickListener() { // start setPositiveButton\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        firebaseUser.delete().addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task<Void> task) {\r\n                               if (task.isSuccessful()){\r\n                                   Toast.makeText(profile.this, \"Account Deleted\" , Toast.LENGTH_LONG).show();\r\n                                   Intent intent= new Intent(profile.this,login.class);\r\n                                   intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                                   intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                                   startActivity(intent);\r\n\r\n                               }else {\r\n                                   Toast.makeText(profile.this, Objects.requireNonNull(task.getException()).getMessage() , Toast.LENGTH_LONG).show();\r\n\r\n                               }\r\n                            }\r\n                        });\r\n\r\n\r\n                    }\r\n                });// end setPositiveButton\r\n                b.setNegativeButton(\"No\", new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                                  dialogInterface.dismiss();\r\n                    }\r\n                });\r\n                AlertDialog alertDialog = b.create();\r\n                alertDialog.show();\r\n\r\n            }//end onClick\r\n        }); // end setOnClickListener\r\n\r\n    }//end Oncrate\r\n\r\n    public void return_main(View view) {\r\n        onBackPressed();\r\n\r\n    }\r\n\r\n\r\n    public void log_out(View v){\r\n        Intent log = new Intent(this,login.class);\r\n        startActivity(log);\r\n    }\r\n\r\n\r\n    public void back_profile1(View view) {\r\n        Intent go_map2= new Intent(this,map.class);\r\n        startActivity(go_map2);\r\n    }\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/taraffac/profile.java	(revision f18d2d1e321d509e84e86c564dbb8fc4e3e8fbda)
+++ app/src/main/java/com/example/taraffac/profile.java	(date 1607104628357)
@@ -66,7 +66,6 @@
         fStore =FirebaseFirestore.getInstance();
         //////////////////////
 
-      //  usedId = Objects.requireNonNull(fAuth.getCurrentUser()).getUid();
         //retrev data ///
         final DocumentReference documentReference =fStore.collection("users").document(Objects.requireNonNull(fAuth.getCurrentUser()).getUid());
         documentReference.addSnapshotListener(this, new EventListener<DocumentSnapshot>() {
@@ -76,8 +75,6 @@
                 Email.getEditText().setText(documentSnapshot.getString("email"));
                 fullName.getEditText().setText(documentSnapshot.getString("Name"));
                 type.getEditText().setText(documentSnapshot.getString("addingType"));
-                //setText(documentSnapshot.getString("addingType"));// type.setEditText(String.valueOf(documentSnapshot.getString("addingType"));
-               // type.setText(String.valueOf(documentSnapshot.getString("addingType"));
 
 
             }
@@ -87,12 +84,10 @@
             @Override
             public void onClick(View v) {
                 // open Gallery
-                //  Intent openGalleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);
-                // startActivityForResult(openGalleryIntent, 1000 );
                 Intent i = new Intent(v.getContext(),edit_profile.class);
-                i.putExtra("fullName",String.valueOf(fullName.getEditText().getText()));//String.valueOf(LEmail.getEditText().getText())   fullName.getText().toString()
-                i.putExtra("email",String.valueOf(Email.getEditText().getText()));//Email.getText().toString()
-                i.putExtra("addingType",String.valueOf(type.getEditText().getText()));//type.getText().toString()
+                i.putExtra("fullName",String.valueOf(fullName.getEditText().getText()));
+                i.putExtra("email",String.valueOf(Email.getEditText().getText()));
+                i.putExtra("addingType",String.valueOf(type.getEditText().getText()));
 
 
                 startActivity(i);
@@ -100,7 +95,7 @@
         });//End setOnClickListener
         //
 
-        // start delet Account
+        // start delete Account
         del.setOnClickListener(new View.OnClickListener() { // start setOnClickListener
             @Override
             public void onClick(View v) {// start onClick
@@ -143,16 +138,7 @@
 
     }//end Oncrate
 
-    public void return_main(View view) {
-        onBackPressed();
-
-    }
 
-
-    public void log_out(View v){
-        Intent log = new Intent(this,login.class);
-        startActivity(log);
-    }
 
 
     public void back_profile1(View view) {
Index: app/src/main/java/com/example/taraffac/register.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.taraffac;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.textfield.TextInputLayout;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\npublic class register extends AppCompatActivity {\r\n    public static final String TAG = \"TAG\";\r\n    //ImageView return_main2;\r\n    Button go_register_to_home1,return_main2,go_login;\r\n   // EditText name,email,pass ;\r\n    TextInputLayout name,email,pass,ConformPass ;\r\n    //long maxid =0;\r\n   // User user;\r\n    FirebaseAuth fAuth;\r\n    FirebaseFirestore fStore;\r\n    String userID;\r\n  // String Display_Option;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        final DatabaseReference myRef = database.getReference().child(\"User\") ;\r\n\r\n\r\n\r\n        setContentView(R.layout.activity_register);\r\n        return_main2= findViewById(R.id.butt_login_register);\r\n        go_register_to_home1=findViewById(R.id.butt_register);\r\n\r\n        name =  findViewById(R.id.NAME);\r\n        email = findViewById(R.id.email_register);\r\n        pass =  findViewById(R.id.password_register);\r\n        ConformPass=findViewById(R.id.Confirm_password_register);\r\n\r\n        go_login= findViewById(R.id.butt_login_register);\r\n\r\n        fAuth = FirebaseAuth.getInstance();\r\n        fStore= FirebaseFirestore.getInstance();\r\n\r\n      // if(fAuth.getCurrentUser() != null){\r\n         //  Intent go_home1 = new Intent(getApplicationContext(),map.class);\r\n         //  startActivity(go_home1);\r\n         //  finish();\r\n       // }\r\n\r\n       // user= new User();\r\n        go_register_to_home1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n              /*  user.setUsername(name.getText().toString().trim());\r\n                user.setEmail(email.getText().toString().trim());\r\n                user.setPassword(pass.getText().toString().trim());\r\n\r\n                myRef.child(String.valueOf(maxid+1)).setValue(user);\r\n\r\n               Toast.makeText(register.this, \" User is registered\"  , Toast.LENGTH_SHORT).show();*/\r\n\r\n              final String Email = String.valueOf(email.getEditText().getText());//.getText().toString().trim();\r\n             final String Pass = String.valueOf(pass.getEditText().getText());//.getText().toString().trim();\r\n              //amjad\r\n                final String Name = String.valueOf(name.getEditText().getText());//.getText().toString().trim();\r\n                final String ConformPass1 = String.valueOf(ConformPass.getEditText().getText());//.getText().toString().trim();\r\n                  final   String   emailPattern = \"[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+\";\r\n              //  String checkPassword =\r\n                       // \"(?=.*[0-9])\" +         //at least 1 digit\r\n                        //\"(?=.*[a-z])\" +         //at least 1 lower case letter\r\n                       // \"(?=.*[A-Z])\" +         //at least 1 upper case letter\r\n                      //  \"(?=.*[a-zA-Z])\";    //any letter\r\n                       // \"(?=.*[@#$%^&+=])\" +    //at least 1 special character\r\n                       // \"(?=S+$)\" +           //no white spaces\r\n                       // \".{6,}\" +               //at least 6 characters;\r\n\r\n                //amjad\r\n\r\n              if(TextUtils.isEmpty(Email)){\r\n                  email.setError(\"Email is Required\");\r\n                  return;\r\n              }\r\n                if(!Email.matches(emailPattern)){\r\n                    email.setError(\"Invalid Email\");\r\n                    return;\r\n                }\r\n              if(TextUtils.isEmpty(Pass)) {\r\n                  pass.setError(\"Password is Required\");\r\n                  return;\r\n              }\r\n                  if(Pass.length() < 6){\r\n                      pass.setError(\"Password Must be 6 Characters\");\r\n                      return;\r\n              }\r\n                if(!ConformPass1.matches(Pass)){\r\n                    ConformPass.setError(\"Password not matches\");\r\n                    return;\r\n                }\r\n\r\n              fAuth.createUserWithEmailAndPassword(Email,Pass).addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n                  @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n                  @Override\r\n                  public void onComplete(@NonNull Task<AuthResult> task) {\r\n                      if(task.isSuccessful()){\r\n                          Toast.makeText(register.this, \" User is registered\"  , Toast.LENGTH_SHORT).show();\r\n                          //aamjad\r\n                          userID = fAuth.getCurrentUser().getUid();\r\n                          DocumentReference documentReferenc = fStore.collection(\"users\").document(userID);\r\n                          Map<String , Object> user = new HashMap<>();\r\n                          user.put(\"Name\",Name);\r\n                          user.put(\"email\" , Email);\r\n                          user.put(\"password\" , Pass);\r\n                        user.put(\"addingType\" ,\"Display Option\");\r\n\r\n\r\n                          documentReferenc.set(user).addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                              @Override\r\n                              public void onSuccess(Void aVoid) {\r\n                                  Log.d(TAG, \"onSuccess: user Profile is created for \"+ userID);\r\n                              }\r\n                          });\r\n                          //amjad\r\n\r\n                         Intent go_home1 = new Intent(getApplicationContext(),map.class);\r\n                         startActivity(go_home1);\r\n\r\n                      }else {\r\n                          Toast.makeText(register.this, \" Error \" + Objects.requireNonNull(task.getException()).getMessage()  , Toast.LENGTH_SHORT).show();\r\n                      }\r\n                  }\r\n              });\r\n                /*Intent go_home1 = new Intent(getApplicationContext(),view_speed_bump.class);\r\n                startActivity(go_home1);*/\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n    public void go_to_login(View view) {\r\n        Intent go_login= new Intent(this,login.class);\r\n        startActivity(go_login);\r\n    }\r\n    public void return_main2(View view) {\r\n        onBackPressed();\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/taraffac/register.java	(revision f18d2d1e321d509e84e86c564dbb8fc4e3e8fbda)
+++ app/src/main/java/com/example/taraffac/register.java	(date 1607104628259)
@@ -65,31 +65,15 @@
 
         fAuth = FirebaseAuth.getInstance();
         fStore= FirebaseFirestore.getInstance();
-
-      // if(fAuth.getCurrentUser() != null){
-         //  Intent go_home1 = new Intent(getApplicationContext(),map.class);
-         //  startActivity(go_home1);
-         //  finish();
-       // }
-
-       // user= new User();
         go_register_to_home1.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
-              /*  user.setUsername(name.getText().toString().trim());
-                user.setEmail(email.getText().toString().trim());
-                user.setPassword(pass.getText().toString().trim());
-
-                myRef.child(String.valueOf(maxid+1)).setValue(user);
 
-               Toast.makeText(register.this, " User is registered"  , Toast.LENGTH_SHORT).show();*/
-
-              final String Email = String.valueOf(email.getEditText().getText());//.getText().toString().trim();
-             final String Pass = String.valueOf(pass.getEditText().getText());//.getText().toString().trim();
-              //amjad
-                final String Name = String.valueOf(name.getEditText().getText());//.getText().toString().trim();
-                final String ConformPass1 = String.valueOf(ConformPass.getEditText().getText());//.getText().toString().trim();
-                  final   String   emailPattern = "[a-zA-Z0-9._-]+@[a-z]+\\.+[a-z]+";
+              final String Email = String.valueOf(email.getEditText().getText());
+                final String Pass = String.valueOf(pass.getEditText().getText());
+                final String Name = String.valueOf(name.getEditText().getText());
+                final String ConformPass1 = String.valueOf(ConformPass.getEditText().getText());
+                final   String   emailPattern = "[a-zA-Z0-9._-]+@[a-z]+\\.+[a-z]+";
               //  String checkPassword =
                        // "(?=.*[0-9])" +         //at least 1 digit
                         //"(?=.*[a-z])" +         //at least 1 lower case letter
@@ -99,8 +83,6 @@
                        // "(?=S+$)" +           //no white spaces
                        // ".{6,}" +               //at least 6 characters;
 
-                //amjad
-
               if(TextUtils.isEmpty(Email)){
                   email.setError("Email is Required");
                   return;
@@ -128,7 +110,6 @@
                   public void onComplete(@NonNull Task<AuthResult> task) {
                       if(task.isSuccessful()){
                           Toast.makeText(register.this, " User is registered"  , Toast.LENGTH_SHORT).show();
-                          //aamjad
                           userID = fAuth.getCurrentUser().getUid();
                           DocumentReference documentReferenc = fStore.collection("users").document(userID);
                           Map<String , Object> user = new HashMap<>();
@@ -144,7 +125,6 @@
                                   Log.d(TAG, "onSuccess: user Profile is created for "+ userID);
                               }
                           });
-                          //amjad
 
                          Intent go_home1 = new Intent(getApplicationContext(),map.class);
                          startActivity(go_home1);
@@ -154,8 +134,7 @@
                       }
                   }
               });
-                /*Intent go_home1 = new Intent(getApplicationContext(),view_speed_bump.class);
-                startActivity(go_home1);*/
+
             }
         });
 
@@ -165,8 +144,5 @@
         Intent go_login= new Intent(this,login.class);
         startActivity(go_login);
     }
-    public void return_main2(View view) {
-        onBackPressed();
-    }
 
 }
\ No newline at end of file
Index: app/src/main/java/com/example/taraffac/report.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.taraffac;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.Gravity;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.AutoCompleteTextView;\r\nimport android.widget.Button;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.RequiresApi;\r\n\r\nimport com.google.firebase.database.DatabaseReference;\r\n\r\n//import android.content.Intent;\r\n\r\n\r\npublic class report extends Activity {\r\n    AutoCompleteTextView autoCompleteTextView;\r\n    private Button button;\r\n    RadioButton rd1,rd2,rd3,rd4,rd_reason,rd5;\r\n    RadioGroup radioGroup_reason;\r\n    DatabaseReference sb;\r\n    String coord;\r\n   // Intent data = getIntent();\r\n    double lat, longitude;\r\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_report);\r\n        button = findViewById(R.id.reportbtn);\r\n        rd1= findViewById(R.id.rd1);\r\n        rd2= findViewById(R.id.rd2);\r\n        rd3= findViewById(R.id.rd3);\r\n        rd4= findViewById(R.id.rd4);\r\n        rd5=findViewById(R.id.rd5);\r\n       final SpeedBump bump= getIntent().getParcelableExtra(\"bump\");\r\n\r\n        radioGroup_reason= findViewById(R.id.report_reason);\r\n        //interface dropdon list\r\n        autoCompleteTextView=findViewById(R.id.autoCompleteText);\r\n        String [] option= {\"Egypt\" , \"England\" , \"France\" , \"aa\" ,\"bb\" , \"tt\" , \"bv\" , \"dz\", \"cc\" , \"ty\" , \"pp\"};\r\n        ArrayAdapter arrayAdapter = new ArrayAdapter(this,R.layout.option_item, option);\r\n        //to make default value\r\n        autoCompleteTextView.setText(arrayAdapter.getItem(0).toString() , false);\r\n        autoCompleteTextView.setAdapter(arrayAdapter);\r\n\r\n\r\n        /////////////////////\r\n\r\n        //sb = FirebaseDatabase.getInstance().getReference().child(\"SpeedBump\");\r\n       // TypeValue= getIntent().getExtras().getString(\"type\");\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                lat = getIntent().getExtras().getDouble(\"latitude\");//Double.parseDouble()\r\n                longitude = getIntent().getExtras().getDouble(\"longitude\");//Double.parseDouble(getIntent().getStringExtra(\"longitude\"));\r\n               // lat= bump.latitude;\r\n               // longitude= bump.longitude;\r\n\r\n                coord = \"\"+lat+ \",\"+longitude;\r\n\r\n                senEmail();\r\n                onBackPressed();\r\n            }\r\n        });\r\n\r\n\r\n      /*  but_close_re = findViewById(R.id.but_close_re);\r\n        but_close_re.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n        btn_report = findViewById(R.id.btn_report);\r\n       /* btn_report.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(getApplicationContext(), report_msg.class);\r\n                startActivity(i);\r\n            }\r\n        });*/\r\n\r\n\r\n    }\r\n\r\n    private void senEmail() {\r\n        String mEmail = \"mgoodh.18@gmail.com\";\r\n        String mSubject = \"Complaint about speed bump\";\r\n        String mReason = (String) rd_reason.getText();\r\n        String mContent= \"We are sending this e-mail to report the speed bump located at this coordinates \"+coord +\"\\n\"+\"and the reason for reporting is the following:  \"+mReason+\"\\n\"+\"Thank you.\";\r\n\r\n        JavaMailAPI javaMailAPI = new JavaMailAPI(this, mEmail,mSubject ,mContent );\r\n\r\n        javaMailAPI.execute();\r\n    }\r\n\r\n    public void checkReason(View view) {\r\n        int radioID = radioGroup_reason.getCheckedRadioButtonId();\r\n        rd_reason = findViewById(radioID);\r\n       // String reason = (String) rd_reason.getText();\r\n    }\r\n\r\n    public void show_report(View v){\r\n        Toast to =  Toast.makeText(this, \" The Report Was Sent Successfully\"  , Toast.LENGTH_SHORT);\r\n        to.setGravity(Gravity.TOP,0, 90);\r\n        to.show();\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/taraffac/report.java	(revision f18d2d1e321d509e84e86c564dbb8fc4e3e8fbda)
+++ app/src/main/java/com/example/taraffac/report.java	(date 1607104628218)
@@ -3,8 +3,8 @@
 import android.app.Activity;
 import android.os.Build;
 import android.os.Bundle;
-import android.view.Gravity;
 import android.view.View;
+import android.widget.AdapterView;
 import android.widget.ArrayAdapter;
 import android.widget.AutoCompleteTextView;
 import android.widget.Button;
@@ -14,20 +14,30 @@
 
 import androidx.annotation.RequiresApi;
 
-import com.google.firebase.database.DatabaseReference;
-
-//import android.content.Intent;
-
-
 public class report extends Activity {
     AutoCompleteTextView autoCompleteTextView;
     private Button button;
     RadioButton rd1,rd2,rd3,rd4,rd_reason,rd5;
     RadioGroup radioGroup_reason;
-    DatabaseReference sb;
     String coord;
-   // Intent data = getIntent();
+    public String Alriyadh="Riyadh";
+    public String Makkah="Makkah";
+    public String Almadinah="Almadinah";
+    public String Eastern_Region="Eastern Region";
+    public String Alqassim="Alqassim";
+    public String Jeddah="Jeddah";
+    public String Albaha="Albaha";
+    public String Jazan="Jazan";
+    public String Tabuk="Tabuk";
+    public String Hail="Hail";
+    public String Alahsa="Alahsa";
+    public String Altaif="Altaif";
+    public String Najran="Najran";
+    public String Asir="Asir";
+    public String Northern_Border="Northern Border";
+    public String LocationEmail;
     double lat, longitude;
+    public String selection;
     @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR1)
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -39,62 +49,94 @@
         rd3= findViewById(R.id.rd3);
         rd4= findViewById(R.id.rd4);
         rd5=findViewById(R.id.rd5);
+        autoCompleteTextView=findViewById(R.id.autoCompleteText);
+        radioGroup_reason= findViewById(R.id.report_reason);
        final SpeedBump bump= getIntent().getParcelableExtra("bump");
-
-        radioGroup_reason= findViewById(R.id.report_reason);
-        //interface dropdon list
-        autoCompleteTextView=findViewById(R.id.autoCompleteText);
-        String [] option= {"Egypt" , "England" , "France" , "aa" ,"bb" , "tt" , "bv" , "dz", "cc" , "ty" , "pp"};
+        //interface drop down list
+        // Create array Contains the locations in the drop down list
+        String [] option= {"Riyadh","Makkah","Almadinah","Eastern Region","Asir" ,"Alqassim" , "Jeddah" , "Albaha" , "Jazan" ,"Tabuk" , "Hail" , "Alahsa" , "Altaif", "Najran" , "Northern Border"};
         ArrayAdapter arrayAdapter = new ArrayAdapter(this,R.layout.option_item, option);
-        //to make default value
+        //To make default value in the drop down list
         autoCompleteTextView.setText(arrayAdapter.getItem(0).toString() , false);
+        // view Contains the locations in the drop down list
         autoCompleteTextView.setAdapter(arrayAdapter);
 
+        //  find the  item in a AutoCompleteTextView filled with Array and stored in variable
+        autoCompleteTextView.setOnItemClickListener(new AdapterView.OnItemClickListener(){//start method
+            @Override
+            public void onItemClick(AdapterView<?> parent, View view, int position, long rowId) {
+                //Store the Item in a AutoCompleteTextView filled
+                selection = (String) parent.getItemAtPosition(position);
+                // Check the item and send email
+                if(selection.isEmpty()){
+                    Toast.makeText(getApplicationContext(), "Select The Location", Toast.LENGTH_SHORT).show();
+
+                } else if (selection.equals(Alriyadh)) {
+                    LocationEmail = "mgoodh.18@gmail.com";
+                }else if(selection.equals(Makkah)) {
+                    LocationEmail = "amjad.nasser.al@gmail.com";
+            }else if(selection.equals(Almadinah)) {
+                    LocationEmail = "mgoodh.18@gmail.com";
+
+            }  else if(selection.equals(Eastern_Region)) {
+                    LocationEmail = "amjad.nasser.al@gmail.com";
+                }else if(selection.equals(Asir)) {
+                    LocationEmail = "mgoodh.18@gmail.com";
+
+                } else if(selection.equals(Alqassim)) {
+                    LocationEmail = "amjad.nasser.al@gmail.com";
+                }else if(selection.equals(Jeddah)) {
+                    LocationEmail = "mgoodh.18@gmail.com";
+                }else if(selection.equals(Albaha)) {
+                    LocationEmail = "amjad.nasser.al@gmail.com";
+                }else if(selection.equals(Jazan)) {
+                    LocationEmail = "mgoodh.18@gmail.com";
+                }else if(selection.equals(Tabuk)){
+                    LocationEmail = "amjad.nasser.al@gmail.com";
+                }else if(selection.equals(Hail)) {
+                    LocationEmail = "mgoodh.18@gmail.com";
+                }else if(selection.equals(Alahsa)) {
+                    LocationEmail = "amjad.nasser.al@gmail.com";
+                }else if(selection.equals(Altaif)) {
+                    LocationEmail = "amjad.nasser.al@gmail.com";
+                }else if(selection.equals(Najran)) {
+                    LocationEmail = "amjad.nasser.al@gmail.com";
+
+                } else {
+                    LocationEmail = "amjad.nasser.al@gmail.com";
 
-        /////////////////////
+                }
+            }
 
-        //sb = FirebaseDatabase.getInstance().getReference().child("SpeedBump");
-       // TypeValue= getIntent().getExtras().getString("type");
+        });//end method
+
+
 
         button.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
 
-                lat = getIntent().getExtras().getDouble("latitude");//Double.parseDouble()
-                longitude = getIntent().getExtras().getDouble("longitude");//Double.parseDouble(getIntent().getStringExtra("longitude"));
-               // lat= bump.latitude;
-               // longitude= bump.longitude;
+                lat = getIntent().getExtras().getDouble("latitude");
+                longitude = getIntent().getExtras().getDouble("longitude");
+
 
                 coord = ""+lat+ ","+longitude;
 
                 senEmail();
                 onBackPressed();
+
             }
         });
+       // Toast to =  Toast.makeText(this, " The Report Was Sent Successfully"  , Toast.LENGTH_SHORT);
 
 
-      /*  but_close_re = findViewById(R.id.but_close_re);
-        but_close_re.setOnClickListener(new View.OnClickListener() {
-            @Override
-            public void onClick(View v) {
-                finish();
-            }
-        });
-
-        btn_report = findViewById(R.id.btn_report);
-       /* btn_report.setOnClickListener(new View.OnClickListener() {
-            @Override
-            public void onClick(View v) {
-                Intent i = new Intent(getApplicationContext(), report_msg.class);
-                startActivity(i);
-            }
-        });*/
 
 
     }
 
+      // Send Email  to JavaMailAPI class
     private void senEmail() {
-        String mEmail = "mgoodh.18@gmail.com";
+        String mEmail = LocationEmail;
         String mSubject = "Complaint about speed bump";
         String mReason = (String) rd_reason.getText();
         String mContent= "We are sending this e-mail to report the speed bump located at this coordinates "+coord +"\n"+"and the reason for reporting is the following:  "+mReason+"\n"+"Thank you.";
@@ -107,13 +149,8 @@
     public void checkReason(View view) {
         int radioID = radioGroup_reason.getCheckedRadioButtonId();
         rd_reason = findViewById(radioID);
-       // String reason = (String) rd_reason.getText();
     }
 
-    public void show_report(View v){
-        Toast to =  Toast.makeText(this, " The Report Was Sent Successfully"  , Toast.LENGTH_SHORT);
-        to.setGravity(Gravity.TOP,0, 90);
-        to.show();
-    }
+
 
 }
\ No newline at end of file
Index: app/src/main/java/com/example/taraffac/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.taraffac;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.AnimationUtils;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static int SPLASH_SCREEN = 5000;\r\n    //variables\r\n    Animation topAnim, bottomAnim;\r\n\r\n    ImageView image;\r\n    TextView logo;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        // Write a message to the database\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference myRef = database.getReference();\r\n        image=(ImageView)findViewById(R.id.logo);\r\n        logo= (TextView)findViewById(R.id.logoText);\r\n        ///design\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        // animation\r\n        topAnim= (Animation)AnimationUtils.loadAnimation(this,R.anim.top_animation);\r\n       bottomAnim=(Animation) AnimationUtils.loadAnimation(this,R.anim.bottom_animation);\r\n        //Hooks\r\n        logo.setAnimation(bottomAnim);\r\n        image.setAnimation(topAnim);\r\n\r\n\r\n\r\n        // logo.setAnimation(bottomAnim);\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Intent intent = new Intent(MainActivity.this,login.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        },SPLASH_SCREEN);\r\n\r\n\r\n\r\n\r\n      //  setContentView(R.layout.activity_main);\r\n       //// go_register= findViewById(R.id.butt_register);\r\n       // go_login= findViewById(R.id.butt_login);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/taraffac/MainActivity.java	(revision f18d2d1e321d509e84e86c564dbb8fc4e3e8fbda)
+++ app/src/main/java/com/example/taraffac/MainActivity.java	(date 1607104628329)
@@ -1,23 +1,18 @@
 package com.example.taraffac;
 
-import androidx.appcompat.app.AppCompatActivity;
-
 import android.content.Intent;
 import android.os.Bundle;
 import android.os.Handler;
-import android.view.View;
 import android.view.WindowManager;
 import android.view.animation.Animation;
 import android.view.animation.AnimationUtils;
-import android.widget.Button;
 import android.widget.ImageView;
 import android.widget.TextView;
 
-import com.google.firebase.database.DataSnapshot;
-import com.google.firebase.database.DatabaseError;
+import androidx.appcompat.app.AppCompatActivity;
+
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
-import com.google.firebase.database.ValueEventListener;
 
 
 
@@ -64,10 +59,6 @@
 
 
 
-      //  setContentView(R.layout.activity_main);
-       //// go_register= findViewById(R.id.butt_register);
-       // go_login= findViewById(R.id.butt_login);
-
     }
 
 
Index: app/src/main/java/com/example/taraffac/login.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.taraffac;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.android.material.textfield.TextInputLayout;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class login extends AppCompatActivity { // start class\r\n    ImageView return_main1;\r\n    Button go_login_to_register,forgotTextLink,go_register;\r\n\r\n   // EditText LEmail,LPass;\r\n    FirebaseAuth fAuth;\r\n   // TextView forgotTextLink;\r\n   // EditText pas,usr;\r\n    TextInputLayout LEmail,LPass;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {  //onCreate\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);/////\r\n        setContentView(R.layout.activity_login);\r\n\r\n       // return_main1= findViewById(R.id.image_back);\r\n        go_login_to_register=findViewById(R.id.butt_login);\r\n\r\n        LEmail = findViewById(R.id.email_login);\r\n        LPass = findViewById(R.id.password_login);\r\n        fAuth = FirebaseAuth.getInstance();\r\n        forgotTextLink = findViewById(R.id.ForgotPassword);\r\n\r\n        go_register= findViewById(R.id.butt_register);\r\n\r\n\r\n        go_login_to_register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                final String Email = String.valueOf(LEmail.getEditText().getText());//getText().toString().trim()\r\n                String Pass = String.valueOf(LPass.getEditText().getText());//getText().toString().trim()  .getEditText().getText().toString().trim();\r\n\r\n                if(TextUtils.isEmpty(Email)){\r\n                    LEmail.setError(\"Email is Required\");\r\n                    return;\r\n                }\r\n                if(TextUtils.isEmpty(Pass)){\r\n                    LPass.setError(\"Password is Required\");\r\n                    return;\r\n                }\r\n                if(Pass.length() < 6){\r\n                    LPass.setError(\"Password Must be 6 Characters\");\r\n                    return;\r\n                }\r\n\r\n                // authenticate the user\r\n\r\n                fAuth.signInWithEmailAndPassword(Email,Pass).addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n                    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                      if(task.isSuccessful()){\r\n                          Toast.makeText(login.this, \" Logged in Successfully\"  , Toast.LENGTH_SHORT).show();\r\n                          Intent go_home11 = new Intent(getApplicationContext(),map.class);\r\n                          startActivity(go_home11);\r\n                      }else {\r\n                          Toast.makeText(login.this, \" Error \" + Objects.requireNonNull(task.getException()).getMessage() , Toast.LENGTH_SHORT).show();\r\n                      }\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n    //    usr = (EditText) findViewById(R.id.email_login);\r\n     //   pas = (EditText) findViewById(R.id.password_login);\r\n\r\n        // forgot password\r\n        forgotTextLink.setOnClickListener(new View.OnClickListener() {// start setOnClickListener\r\n            @Override\r\n            public void onClick(View view) {// start  onclick 1\r\n                final EditText resetMail = new EditText(view.getContext());\r\n                AlertDialog.Builder PasswordResetDialog = new AlertDialog.Builder(view.getContext());\r\n                PasswordResetDialog.setTitle(\"Reset Password ? \");\r\n                PasswordResetDialog.setMessage(\" Enter your Email To Received Reset Link.\");\r\n                PasswordResetDialog.setView(resetMail);\r\n                PasswordResetDialog.setPositiveButton(\"YES\", new DialogInterface.OnClickListener() {// start DialogInterface\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog , int which ) {// start onclick 2\r\n                       //extract the email and send reset link\r\n                        String  mail= resetMail.getText().toString();\r\n                        fAuth.sendPasswordResetEmail(mail).addOnSuccessListener(new OnSuccessListener<Void>() {//start sendPasswordResetEmail\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                Toast.makeText(login.this, \" Reset Link Sent To Your Email\", Toast.LENGTH_SHORT).show();\r\n\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(login.this, \"Error ! Reset Link is Not Sent \" + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });// end sendPasswordResetEmail\r\n\r\n\r\n\r\n\r\n                    }// end onclick 2\r\n                });// end DialogInterface\r\n\r\n                PasswordResetDialog.setNegativeButton(\"NO\", new DialogInterface.OnClickListener() {//start setNegativeButton\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {//start onClick3\r\n                             // close the dialog\r\n                    }//end onClick3\r\n                });// end setNegativeButton\r\n                PasswordResetDialog.create().show();\r\n            }// end onclick 1\r\n\r\n        });///setOnClickListener\r\n\r\n        } // end onCreate\r\n\r\n    public void go_to_register(View view) {\r\n        Intent go_register1= new Intent(this,register.class);\r\n        startActivity(go_register1);\r\n    }\r\n\r\n   // public void return_main(View view) { //start return_main\r\n      //  onBackPressed();\r\n\r\n    //}// end return_main\r\n\r\n    public void go_to_home(View view) { // start go_to_home\r\n        Intent go_home = new Intent(this,map.class);\r\n        startActivity(go_home);\r\n\r\n\r\n      //  String user = usr.getText().toString();\r\n      //  String pass = pas.getText().toString();\r\n\r\n    }//end go_to_home\r\n\r\n}// end class
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/taraffac/login.java	(revision f18d2d1e321d509e84e86c564dbb8fc4e3e8fbda)
+++ app/src/main/java/com/example/taraffac/login.java	(date 1607104628276)
@@ -1,10 +1,5 @@
 package com.example.taraffac;
 
-import androidx.annotation.NonNull;
-import androidx.annotation.RequiresApi;
-import androidx.appcompat.app.AlertDialog;
-import androidx.appcompat.app.AppCompatActivity;
-
 import android.content.DialogInterface;
 import android.content.Intent;
 import android.os.Build;
@@ -15,14 +10,17 @@
 import android.widget.Button;
 import android.widget.EditText;
 import android.widget.ImageView;
-import android.widget.TextView;
 import android.widget.Toast;
 
+import androidx.annotation.NonNull;
+import androidx.annotation.RequiresApi;
+import androidx.appcompat.app.AlertDialog;
+import androidx.appcompat.app.AppCompatActivity;
+
 import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.OnFailureListener;
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.gms.tasks.Task;
-import com.google.android.material.textfield.TextInputEditText;
 import com.google.android.material.textfield.TextInputLayout;
 import com.google.firebase.auth.AuthResult;
 import com.google.firebase.auth.FirebaseAuth;
@@ -32,11 +30,7 @@
 public class login extends AppCompatActivity { // start class
     ImageView return_main1;
     Button go_login_to_register,forgotTextLink,go_register;
-
-   // EditText LEmail,LPass;
     FirebaseAuth fAuth;
-   // TextView forgotTextLink;
-   // EditText pas,usr;
     TextInputLayout LEmail,LPass;
 
 
@@ -45,8 +39,6 @@
         super.onCreate(savedInstanceState);
         getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);/////
         setContentView(R.layout.activity_login);
-
-       // return_main1= findViewById(R.id.image_back);
         go_login_to_register=findViewById(R.id.butt_login);
 
         LEmail = findViewById(R.id.email_login);
@@ -61,8 +53,8 @@
             @Override
             public void onClick(View view) {
 
-                final String Email = String.valueOf(LEmail.getEditText().getText());//getText().toString().trim()
-                String Pass = String.valueOf(LPass.getEditText().getText());//getText().toString().trim()  .getEditText().getText().toString().trim();
+                final String Email = String.valueOf(LEmail.getEditText().getText());
+                String Pass = String.valueOf(LPass.getEditText().getText());
 
                 if(TextUtils.isEmpty(Email)){
                     LEmail.setError("Email is Required");
@@ -96,8 +88,6 @@
             }
         });
 
-    //    usr = (EditText) findViewById(R.id.email_login);
-     //   pas = (EditText) findViewById(R.id.password_login);
 
         // forgot password
         forgotTextLink.setOnClickListener(new View.OnClickListener() {// start setOnClickListener
@@ -150,19 +140,12 @@
         startActivity(go_register1);
     }
 
-   // public void return_main(View view) { //start return_main
-      //  onBackPressed();
-
-    //}// end return_main
 
     public void go_to_home(View view) { // start go_to_home
         Intent go_home = new Intent(this,map.class);
         startActivity(go_home);
 
 
-      //  String user = usr.getText().toString();
-      //  String pass = pas.getText().toString();
-
     }//end go_to_home
 
 }// end class
\ No newline at end of file
Index: app/src/main/java/com/example/taraffac/map.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.taraffac;\r\n\r\nimport android.Manifest;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport android.widget.ToggleButton;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.BitmapDescriptor;\r\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\nimport java.text.DecimalFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Formatter;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Objects;\r\n\r\n//speedometer imports\r\n\r\n@RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\npublic class map extends FragmentActivity implements LocationListener, OnMapReadyCallback, IBaseGpsListener {\r\n    ////////////Interface_Menu ///////////\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n    ////////////Interface_Menu ///////////\r\n\r\n\r\n\r\n    private GoogleMap mMap;\r\n    Button profile;\r\n    Button log;\r\n    FloatingActionButton add;\r\n    //FloatingActionButton add;\r\n    Button notify;\r\n    ToggleButton active;\r\n\r\n    FusedLocationProviderClient client;\r\n    SupportMapFragment mapFragment;\r\n    LatLng latLng;\r\n    private Geocoder geocoder;\r\n    DatabaseReference ref, refV;\r\n    FirebaseUser user;\r\n    AlertDialog.Builder builder;\r\n    boolean state = false;\r\n    String addingType;\r\n    double not_lat;\r\n    double not_long;\r\n    String sub;\r\n    SpeedBump bump;\r\n    String CheckAddingType;\r\n    ////\r\n    FirebaseAuth fAuth;\r\n    FirebaseFirestore fStore;\r\n    StorageReference storageReference;\r\n    FirebaseUser  firebaseUser;\r\n    public String voiceType =\"Voice command\";\r\n    double notify_long,notify_lat,add_lat,add_long;\r\n    //public Toolbar toolbar;\r\n    ActionBarDrawerToggle toggle;\r\n    String bump_key, bump_locKey, bump_loc;\r\n\r\n    int deleteCount;\r\n    RelativeLayout logout_rl,provile_rl;\r\n\r\n    /////\r\n\r\n    SharedPreferences pref;\r\n    SharedPreferences.Editor editor;\r\n    SpeedBump sb;\r\n    private static final String TAG = \"MapsActivity\";\r\n    TextView type1;\r\n    private int ACCESS_LOCATION_REQUEST_CODE = 10001;\r\n    FusedLocationProviderClient fusedLocationProviderClient;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_map);\r\n      //  profile = findViewById(R.id.but_pofile_map);\r\n        //log = findViewById(R.id.but_logout_map);\r\n        add = (FloatingActionButton) findViewById(R.id.add_bump2);\r\n        //notify = (Button) findViewById(R.id.showNotificationBtn);\r\n        active = findViewById(R.id.map_deactive);\r\n        logout_rl=findViewById(R.id.logout_rl);\r\n        provile_rl=findViewById(R.id.provile_rl);\r\n        provile_rl.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(map.this, profile.class));\r\n            }\r\n        });\r\n        logout_rl.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(map.this, login.class));\r\n            }\r\n        });\r\n\r\n        ////////////Interface_Menu ///////////\r\n        //---------HOOKS-----------------\r\n\r\n        /////////////////////// tool bar//////////////\r\n\r\n\r\n        //     navigation Drawer menu\r\n\r\n//drawerLayout,Toolbar=toolbar, R.string.navi_o,R.string.navi_c);\r\n\r\n        //     navigation Drawer menu\r\n\r\n\r\n\r\n\r\n        //\r\n        storageReference = FirebaseStorage.getInstance().getReference();\r\n        fAuth = FirebaseAuth.getInstance();\r\n        firebaseUser = fAuth.getCurrentUser();\r\n        fStore =FirebaseFirestore.getInstance();\r\n        //\r\n        ref = FirebaseDatabase.getInstance().getReference().child(\"SpeedBump\");\r\n        client = LocationServices.getFusedLocationProviderClient(this);\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n        geocoder = new Geocoder(this);\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n        showbumps();\r\n\r\n\r\n        // get state value from activities\r\n        Bundle extras = getIntent().getExtras();\r\n        if (extras != null) {\r\n            state = extras.getBoolean(\"state\");\r\n        }\r\n        SharedPreferences sharedPrefs = getSharedPreferences(\"com.example.taraffac\", MODE_PRIVATE);\r\n        active.setChecked(sharedPrefs.getBoolean(\"active\", state));\r\n\r\n\r\n        // activate and deactivate\r\n        active.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                isActive();\r\n            }\r\n        });\r\n\r\n\r\n// check if active for add\r\n        add.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (active.isChecked()) {\r\n                    add();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        final Handler handler = new Handler();\r\n        Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if(active.isChecked()){ Notify();}\r\n                handler.postDelayed(this, 3000);\r\n            }\r\n        };\r\n\r\n//Start\r\n        handler.postDelayed(runnable, 1000);\r\n        ////////////////////////////////////////////////////////////////\r\n       // Check Adding Type\r\n\r\n        final DocumentReference documentReference =fStore.collection(\"users\").document(Objects.requireNonNull(fAuth.getCurrentUser()).getUid());\r\n        documentReference.addSnapshotListener(this, new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot documentSnapshot, @Nullable FirebaseFirestoreException e) {//start method\r\n                assert documentSnapshot != null;\r\n                CheckAddingType= documentSnapshot.getString(\"addingType\");\r\n                Toast.makeText(map.this, CheckAddingType, Toast.LENGTH_SHORT).show();\r\n             /*  if (CheckAddingType.equals(voiceType) ){\r\n                   ;\r\n                }else{\r\n                   }*/\r\n\r\n            }\r\n        });\r\n        //speedometer\r\n        LocationManager locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, this);\r\n        this.updateSpeed(null);\r\n/*\r\n        CheckBox chkUseMetricUntis = (CheckBox) this.findViewById(R.id.chkMetricUnits);\r\n        chkUseMetricUntis.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                // TODO Auto-generated method stub\r\n                map.this.updateSpeed(null);\r\n            }\r\n        });\r\n\r\n\r\n */\r\n\r\n    }// end on create\r\n\r\n    private void setSupporActionBar(Toolbar toolbar) {\r\n\r\n    }\r\n    //     navigation Drawer menu\r\n\r\n\r\n\r\n    //     navigation Drawer menu\r\n\r\n\r\n    // check if it is activate or deactivate\r\n    public void isActive() {\r\n        if (active.isChecked()) {\r\n            //getSpeechInput();\r\n            // active.setText(\"Activated\");\r\n            SharedPreferences.Editor editor = getSharedPreferences(\"com.example.taraffac\", MODE_PRIVATE).edit();\r\n            editor.putBoolean(\"active\", true);\r\n            editor.commit();\r\n        } else {\r\n            SharedPreferences.Editor editor = getSharedPreferences(\"com.example.taraffac\", MODE_PRIVATE).edit();\r\n            editor.putBoolean(\"active\", false);\r\n            editor.commit();\r\n        }// end if else\r\n    }\r\n/////\r\n\r\n\r\n    @Override // set the map\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            enableUserLocation();\r\n            zoomToUserLocation();\r\n        } else {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                //We can show user a dialog why this permission is necessary\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, ACCESS_LOCATION_REQUEST_CODE);\r\n            } else {\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, ACCESS_LOCATION_REQUEST_CODE);\r\n            }\r\n        }\r\n    }\r\n\r\n    // set the user location\r\n    private void enableUserLocation() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        mMap.setMyLocationEnabled(true);\r\n    }\r\n\r\n    // zoom on user location\r\n    private void zoomToUserLocation() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        Task<Location> locationTask = fusedLocationProviderClient.getLastLocation();\r\n        locationTask.addOnSuccessListener(new OnSuccessListener<Location>() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 17));\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override // check if user allow GPS service\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\r\n                                           @NonNull int[] grantResults) {\r\n        if (requestCode == ACCESS_LOCATION_REQUEST_CODE) {\r\n            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                enableUserLocation();\r\n                zoomToUserLocation();\r\n            } else {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    public void go_to_profile(View v) {\r\n        Intent profile = new Intent(this, profile.class);\r\n        startActivity(profile);\r\n    }\r\n\r\n    public void log_out(View v) {\r\n        FirebaseAuth.getInstance().signOut();// R add it\r\n        Intent log = new Intent(this, login.class);\r\n        startActivity(log);\r\n        finish();// R add it\r\n    }\r\n\r\n    // show markers on bumps\r\n    private void showbumps() {\r\n\r\n        ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                List<SpeedBump> bumps = new ArrayList<>();\r\n                bumps.clear();\r\n                for (DataSnapshot locationSnapshot : snapshot.getChildren()) {\r\n                    for (DataSnapshot bumpSnapshot : locationSnapshot.getChildren()) {\r\n                        SpeedBump bump = bumpSnapshot.getValue(SpeedBump.class);\r\n                        bumps.add(bump);\r\n\r\n                        double bump_lat = bump.getLatitude();\r\n                        double bump_long = bump.getLongitude();\r\n                        String bump_type = bump.getType();\r\n                        String bump_size = bump.getSize();\r\n\r\n                        LatLng latLng = new LatLng(bump_lat, bump_long);\r\n                        String bump_info = \" type : \" + bump_type + \" size : \" + bump_size;\r\n// set height & width - apply style\r\n                        int height = 130;\r\n                        int width = 130;\r\n                        Bitmap b = BitmapFactory.decodeResource(getResources(), R.drawable.pin);\r\n                        Bitmap smallMarker = Bitmap.createScaledBitmap(b, width, height, false);\r\n                        BitmapDescriptor smallMarkerIcon = BitmapDescriptorFactory.fromBitmap(smallMarker);\r\n\r\n                        //   BitmapDescriptor icon = BitmapDescriptorFactory.fromResource(R.drawable.pin);\r\n                        MarkerOptions marker = new MarkerOptions().position(latLng).title(\"Bump info\").snippet(bump_info).icon(smallMarkerIcon);\r\n// create marker for bumps\r\n                        mMap.addMarker(marker);\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    // add new speed bump\r\n    public void add() {\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        } // get user location\r\n        Task<Location> locationTask = fusedLocationProviderClient.getLastLocation();\r\n        locationTask.addOnSuccessListener(new OnSuccessListener<Location>() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                double loc_lat = location.getLatitude();\r\n                double loc_long = location.getLongitude();\r\n                double  x =  distance(loc_lat,loc_long,notify_lat,notify_long);\r\n                if(x>0.010){\r\n                // send info to add class\r\n                Intent intent = new Intent(map.this, add.class);\r\n                intent.putExtra(\"Latitude\", loc_lat);\r\n                intent.putExtra(\"Longitude\", loc_long);\r\n                intent.putExtra(\"userType\", CheckAddingType);\r\n                    add_lat=loc_lat;\r\n                    add_long=loc_long;\r\n                startActivity(intent);\r\n                }else{\r\n                    Toast.makeText(map.this, \"The bump is already exist\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        //Intent a = new Intent(this, add.class);\r\n        // startActivity(a);\r\n    }\r\n\r\n    //speedometer code\r\n    private void updateSpeed(CLocation location) {\r\n        // TODO Auto-generated method stub\r\n        float nCurrentSpeed = 0;\r\n\r\n        if(location != null)\r\n        {\r\n            location.setUseMetricunits(true);\r\n            nCurrentSpeed = location.getSpeed();\r\n        }\r\n\r\n        Formatter fmt = new Formatter(new StringBuilder());\r\n        fmt.format(Locale.US, \"%5.1f\", nCurrentSpeed);\r\n        String strCurrentSpeed = fmt.toString();\r\n        strCurrentSpeed = strCurrentSpeed.replace(' ', '0');\r\n\r\n       // String strUnits = \"miles/hour\";\r\n       // if(this.useMetricUnits())\r\n      //  {\r\n        String strUnits = \"meters/second\";\r\n      //  }\r\n\r\n        TextView txtCurrentSpeed = (TextView) this.findViewById(R.id.txtCurrentSpeed);\r\n        txtCurrentSpeed.setText(strCurrentSpeed + \" \" + strUnits);\r\n    }\r\n\r\n   /* private boolean useMetricUnits() {\r\n        // TODO Auto-generated method stub\r\n        CheckBox chkUseMetricUnits = (CheckBox) this.findViewById(R.id.chkMetricUnits);\r\n        return chkUseMetricUnits.isChecked();\r\n    }\r\n\r\n\r\n    */\r\n    @Override\r\n    public void onLocationChanged(@NonNull Location location) {\r\n        // TODO Auto-generated method stub\r\n        if(location != null)\r\n        {\r\n            CLocation myLocation = new CLocation(location, true);\r\n            this.updateSpeed(myLocation);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onProviderDisabled(String provider) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onProviderEnabled(String provider) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStatusChanged(String provider, int status, Bundle extras) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onGpsStatusChanged(int event) {\r\n\r\n    }\r\n\r\n    //end speedometer code\r\n\r\n    ////// Voice command code\r\n\r\n\r\n\r\n    public void Notify() {\r\n\r\n        // compare\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        Task<Location> locationTask = fusedLocationProviderClient.getLastLocation();\r\n        locationTask.addOnSuccessListener(new OnSuccessListener<Location>() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                not_lat = location.getLatitude();\r\n                not_long = location.getLongitude();}});\r\n\r\n        String sub1 = new DecimalFormat(\"00.00\").format(not_lat);\r\n        String sub2=  new DecimalFormat(\"00.00\").format(not_long);\r\n        sub = sub1.replace('.','-')+\"_\"+sub2.replace('.','-');\r\n\r\n\r\n        ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                List<SpeedBump> bumps = new ArrayList<>();\r\n\r\n                bumps.clear();\r\n                for (DataSnapshot locationSnapshot : snapshot.getChildren()) {\r\n                    bump_locKey= locationSnapshot.getKey();\r\n                   // bump_loc = locationSnapshot;\r\n\r\n                    if (bump_locKey.equals(sub)) {\r\n                        for (DataSnapshot bumpSnapshot : locationSnapshot.getChildren()) {\r\n                            bump = bumpSnapshot.getValue(SpeedBump.class);\r\n                            bumps.add(bump);\r\n\r\n                            double bump_lat_not = bump.getLatitude();\r\n                            double bump_long_not = bump.getLongitude();\r\n                            String bump_type = bump.getType();\r\n                            String bump_size = bump.getSize();\r\n                            deleteCount = bump.getDeleteOption();\r\n                            bump_key = bumpSnapshot.getKey();\r\n                            bump_loc= locationSnapshot.getKey();\r\n\r\n                            // LatLng latLng = new LatLng(bump_lat, bump_long);\r\n\r\n// set height & width - apply style\r\n\r\n                            double x = distance(bump_lat_not, bump_long_not, not_lat, not_long);\r\n                            if (x < 0.150) {\r\n                                // Toast.makeText(this, \" near\", Toast.LENGTH_SHORT).show();\r\n                                if (add_lat != bump_lat_not & add_long != bump_long_not) {\r\n\r\n                                    if (notify_lat != bump_lat_not || notify_long != bump_long_not) {\r\n                                        Alertt(bump_lat_not, bump_long_not, bump_type, bump_size);\r\n                                        notify_lat = bump_lat_not;\r\n                                        notify_long = bump_long_not; } } } }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void Alertt(final double lat, final double lon, final String type, final String size) {\r\n\r\n        AlertDialog.Builder alertDialog2 = new AlertDialog.Builder(map.this);\r\n// Setting Dialog Title\r\n        alertDialog2.setTitle(\"Speed bump info\");\r\n// Setting Dialog Message\r\n        alertDialog2.setMessage(\"Type: \"+type+\"  Size: \"+size);\r\n// Setting Positive \"Yes\" Btn\r\n        alertDialog2.setPositiveButton(\"Edit\",\r\n                new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        // Write your code here to execute after dialog\r\n                        Intent i = new Intent(getApplicationContext(), edit_speed_bump.class);\r\n                        i.putExtra(\"key\",bump_key);\r\n                        i.putExtra(\"loc\",bump_loc);\r\n                        i.putExtra(\"type\",type);\r\n                        i.putExtra(\"size\",size);\r\n                        i.putExtra(\"latitude\",lat);\r\n                        i.putExtra(\"longitude\",lon);\r\n                        i.putExtra(\"deleteCount\",deleteCount);\r\n                        i.putExtra(\"userType\", CheckAddingType);\r\n                        startActivity(i);\r\n                    }});\r\n// Setting Negative \"NO\" Btn\r\n        alertDialog2.setNegativeButton(\"Report\",\r\n                new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        // Write your code here to execute after dialog\r\n\r\n                        Intent i = new Intent(getApplicationContext(), report.class);\r\n                        i.putExtra(\"latitude\",lat);\r\n                        i.putExtra(\"longitude\",lon);\r\n\r\n                        startActivity(i);\r\n                    }});\r\n// Showing Alert Dialog\r\n        alertDialog2.show(); }\r\n\r\n    // lat long 2 is user\r\n    //calculate the distance between user location and bump location\r\n    private double distance(double lat1, double lon1, double lat2, double lon2) {\r\n        double theta = lon1 - lon2;\r\n        double dist = Math.sin(deg2rad(lat1))\r\n                * Math.sin(deg2rad(lat2))\r\n                + Math.cos(deg2rad(lat1))\r\n                * Math.cos(deg2rad(lat2))\r\n                * Math.cos(deg2rad(theta));\r\n        dist = Math.acos(dist);\r\n        dist = rad2deg(dist);\r\n        dist = dist * 60 * 1.1515;\r\n        return (dist);\r\n    }\r\n\r\n    private double deg2rad(double deg) {\r\n        return (deg * Math.PI / 180.0);\r\n    }\r\n\r\n    private double rad2deg(double rad) {\r\n        return (rad * 180.0 / Math.PI);\r\n    }\r\n    //     navigation Drawer menu\r\n\r\n    //     navigation Drawer menu\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/taraffac/map.java	(revision f18d2d1e321d509e84e86c564dbb8fc4e3e8fbda)
+++ app/src/main/java/com/example/taraffac/map.java	(date 1607031428684)
@@ -30,7 +30,6 @@
 import androidx.appcompat.widget.Toolbar;
 import androidx.core.app.ActivityCompat;
 import androidx.core.content.ContextCompat;
-import androidx.drawerlayout.widget.DrawerLayout;
 import androidx.fragment.app.FragmentActivity;
 
 import com.google.android.gms.location.FusedLocationProviderClient;
@@ -46,7 +45,6 @@
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.gms.tasks.Task;
 import com.google.android.material.floatingactionbutton.FloatingActionButton;
-import com.google.android.material.navigation.NavigationView;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.auth.FirebaseUser;
 import com.google.firebase.database.DataSnapshot;
@@ -74,8 +72,7 @@
 @RequiresApi(api = Build.VERSION_CODES.KITKAT)
 public class map extends FragmentActivity implements LocationListener, OnMapReadyCallback, IBaseGpsListener {
     ////////////Interface_Menu ///////////
-    DrawerLayout drawerLayout;
-    NavigationView navigationView;
+
     ////////////Interface_Menu ///////////
 
 
@@ -151,17 +148,6 @@
             }
         });
 
-        ////////////Interface_Menu ///////////
-        //---------HOOKS-----------------
-
-        /////////////////////// tool bar//////////////
-
-
-        //     navigation Drawer menu
-
-//drawerLayout,Toolbar=toolbar, R.string.navi_o,R.string.navi_c);
-
-        //     navigation Drawer menu
 
 
 
Index: app/src/main/java/com/example/taraffac/edit_profile.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.taraffac;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.textfield.TextInputLayout;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\npublic class edit_profile extends AppCompatActivity {\r\n    public static final String TAG = \"TAG\";\r\n    Button saveProvil;\r\n    ImageView imageprofil;\r\n    StorageReference  storageReference;\r\n    FirebaseFirestore fStore;\r\n    FirebaseUser user;\r\n RadioButton  Radiodisplay, RadioVoice , RadioType;\r\n     //TextView itFullName , ProfileEditEmail;\r\n    TextInputLayout ProfileEditFullName , ProfileEditEmail;\r\n    RadioGroup RadioGroupTypeUpdate;\r\n\r\n    public String voiceType =\"Voice command\";\r\n\r\n    FirebaseAuth fAuth;\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit_profile);\r\n        saveProvil = findViewById(R.id.save_profile);\r\n       imageprofil= findViewById(R.id.imageProfilEdit);\r\n        Radiodisplay = findViewById(R.id.displayEdit);\r\n        RadioVoice= findViewById(R.id.voiceEdit);\r\n        RadioGroupTypeUpdate= findViewById(R.id.update_Adding_type);\r\n        ProfileEditFullName = findViewById(R.id.name_edit);\r\n        ProfileEditEmail = findViewById(R.id.email_edit);\r\n        storageReference = FirebaseStorage.getInstance().getReference();\r\n        fAuth = FirebaseAuth.getInstance();\r\n        user = fAuth.getCurrentUser();\r\n        fStore= FirebaseFirestore.getInstance();\r\n       // itFullName = findViewById(R.id.username_profile);\r\n\r\n        // edit profile\r\n        Intent data = getIntent();\r\n        String  fullName = data.getStringExtra(\"fullName\");\r\n        String  email  = data.getStringExtra(\"email\");\r\n        String  type = data.getStringExtra(\"addingType\");\r\n        Log.d(TAG, \"onCreate: \" + fullName + \" \" + email + type);\r\n\r\n        ProfileEditFullName.getEditText().setText(fullName);\r\n        ProfileEditEmail.getEditText().setText(email);\r\n\r\n        if (type.equals(voiceType) ){\r\n            RadioVoice.setChecked(true);\r\n        }else{\r\n            Radiodisplay.setChecked(true);}\r\n\r\n        ///////////////////////////// method ProfileImage////////////////////////////////\r\n       // start set ProfileImage\r\n       //       \r\n        StorageReference profileRef = storageReference.child(\"user/\" + Objects.requireNonNull(fAuth.getCurrentUser()).getUid()  +\"/ Profile.jpg\");\r\n\r\n        profileRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {\r\n            @Override\r\n            public void onSuccess(Uri uri) {\r\n                Picasso.get().load(uri).into(imageprofil);\r\n            }\r\n        });\r\n        imageprofil.setOnClickListener(new View.OnClickListener() { // start setOnClickListener\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent openGalleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                startActivityForResult(openGalleryIntent, 1000 );\r\n\r\n\r\n            }\r\n        }); // end setOnClickListener\r\n        ///////////////////////////// end method ProfileImage ////////////////////////////////\r\n\r\n\r\n        ///////////////////// ///////////////// start edit profile /////////////////////////////////////////////////////////////////////////////\r\n        //Update Profile, save changed in firebase\r\n        saveProvil.setOnClickListener(new View.OnClickListener() {// start method\r\n            @Override\r\n            public void onClick(View v) { // start onclick\r\n                final String TypeText;\r\n                TypeText=checkType();\r\n                if (String.valueOf(ProfileEditFullName.getEditText().getText()).isEmpty() || String.valueOf(ProfileEditEmail.getEditText().getText()).isEmpty()|| TypeText.isEmpty()) {//ProfileEditFullName.getText().toString()   ProfileEditEmail.getText().toString()\r\n                    Toast.makeText(edit_profile.this, \"one or many fields are empty\", Toast.LENGTH_SHORT).show();\r\n                    return;//user\r\n                }\r\n\r\n                user.updateEmail(String.valueOf(ProfileEditEmail.getEditText().getText())).addOnSuccessListener(new OnSuccessListener<Void>() { // start OnSuccessListener\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        DocumentReference docRef = fStore.collection(\"users\").document(Objects.requireNonNull(fAuth.getCurrentUser()).getUid());\r\n                       // DocumentReference docRef = fStore.collection(\"SpeedBump\").document(SpeedBump(MIJKeFHd1ikAjpOvBsY1));\r\n                        Map<String , Object> edited = new HashMap<>();\r\n                       edited.put(\"email\",String.valueOf(ProfileEditEmail.getEditText().getText()));\r\n                       // edited.put(\"Name\",itFullName.getText().toString());\r\n                        edited.put(\"Name\",String.valueOf(ProfileEditFullName.getEditText().getText()));\r\n                        edited.put(\"addingType\",TypeText);\r\n                        ////\r\n                        ////\r\n                        ///\r\n\r\n                        docRef.update(edited).addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                Toast.makeText(edit_profile.this, \"profile Updated\", Toast.LENGTH_SHORT).show();\r\n                                startActivity(new Intent(getApplicationContext(),profile.class) );\r\n                                finish();\r\n                            }\r\n                        });\r\n\r\n                       // Toast.makeText(edit_profile.this, \" Email Is Changed\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(edit_profile.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n            }// end onclick\r\n\r\n        });// end method setOnClickListener\r\n\r\n        // end edit profile\r\n\r\n    }// end onCreate\r\n// updata adding type in profile\r\n    public String checkType(){\r\n        int radioID = RadioGroupTypeUpdate.getCheckedRadioButtonId();\r\n        RadioType = findViewById(radioID);\r\n        String CheckType = (String) RadioType.getText();\r\n        return CheckType ;\r\n\r\n\r\n    }\r\n    ///////////////////// ///////////////// end edit profile /////////////////////////////////////////////////////////////////////////////\r\n\r\n    ///////////////////////////// method ProfileImage////////////////////////////////\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {// start method\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == 1000){\r\n            if(resultCode == Activity.RESULT_OK){\r\n                Uri imageUri = Objects.requireNonNull(data).getData();\r\n                // imageprofil.setImageURI(imageUri);\r\n                uploadImageToFirebase(imageUri);\r\n            }\r\n        }\r\n    }// end method\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    private void uploadImageToFirebase(Uri imageUri) {// start method\r\n        // uplood image to firebase storage\r\n        final StorageReference fileRef = storageReference.child(\"user/\" + Objects.requireNonNull(fAuth.getCurrentUser()).getUid()  +\"/ Profile.jpg\");\r\n        fileRef.putFile(imageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                // Toast.makeText(edit_profile.this, \" Image Uploaded\", Toast.LENGTH_SHORT).show();\r\n                fileRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {\r\n                    @Override\r\n                    public void onSuccess(Uri uri) {\r\n                        //ImageView imageProfilEdit = null;\r\n                        Picasso.get().load(uri).into(imageprofil);\r\n\r\n                    }\r\n                });\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(getApplicationContext(), \"failed\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }// end  method ProfileImage\r\n    ///////////////////////////// method ProfileImage////////////////////////////////\r\n\r\n\r\n\r\n    public void return_main(View view) {\r\n        onBackPressed();\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/taraffac/edit_profile.java	(revision f18d2d1e321d509e84e86c564dbb8fc4e3e8fbda)
+++ app/src/main/java/com/example/taraffac/edit_profile.java	(date 1607104628301)
@@ -66,7 +66,6 @@
         fAuth = FirebaseAuth.getInstance();
         user = fAuth.getCurrentUser();
         fStore= FirebaseFirestore.getInstance();
-       // itFullName = findViewById(R.id.username_profile);
 
         // edit profile
         Intent data = getIntent();
@@ -85,7 +84,7 @@
 
         ///////////////////////////// method ProfileImage////////////////////////////////
        // start set ProfileImage
-       //       
+       // Change ProfileImage
         StorageReference profileRef = storageReference.child("user/" + Objects.requireNonNull(fAuth.getCurrentUser()).getUid()  +"/ Profile.jpg");
 
         profileRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {
@@ -122,15 +121,10 @@
                     @Override
                     public void onSuccess(Void aVoid) {
                         DocumentReference docRef = fStore.collection("users").document(Objects.requireNonNull(fAuth.getCurrentUser()).getUid());
-                       // DocumentReference docRef = fStore.collection("SpeedBump").document(SpeedBump(MIJKeFHd1ikAjpOvBsY1));
                         Map<String , Object> edited = new HashMap<>();
                        edited.put("email",String.valueOf(ProfileEditEmail.getEditText().getText()));
-                       // edited.put("Name",itFullName.getText().toString());
                         edited.put("Name",String.valueOf(ProfileEditFullName.getEditText().getText()));
                         edited.put("addingType",TypeText);
-                        ////
-                        ////
-                        ///
 
                         docRef.update(edited).addOnSuccessListener(new OnSuccessListener<Void>() {
                             @Override
@@ -141,7 +135,6 @@
                             }
                         });
 
-                       // Toast.makeText(edit_profile.this, " Email Is Changed", Toast.LENGTH_SHORT).show();
                     }
                 }).addOnFailureListener(new OnFailureListener() {
                     @Override
@@ -157,7 +150,7 @@
         // end edit profile
 
     }// end onCreate
-// updata adding type in profile
+// Update adding type in profile
     public String checkType(){
         int radioID = RadioGroupTypeUpdate.getCheckedRadioButtonId();
         RadioType = findViewById(radioID);
@@ -176,23 +169,20 @@
         if(requestCode == 1000){
             if(resultCode == Activity.RESULT_OK){
                 Uri imageUri = Objects.requireNonNull(data).getData();
-                // imageprofil.setImageURI(imageUri);
                 uploadImageToFirebase(imageUri);
             }
         }
     }// end method
     @RequiresApi(api = Build.VERSION_CODES.KITKAT)
     private void uploadImageToFirebase(Uri imageUri) {// start method
-        // uplood image to firebase storage
+        // upload image to firebase storage
         final StorageReference fileRef = storageReference.child("user/" + Objects.requireNonNull(fAuth.getCurrentUser()).getUid()  +"/ Profile.jpg");
         fileRef.putFile(imageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {
             @Override
             public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {
-                // Toast.makeText(edit_profile.this, " Image Uploaded", Toast.LENGTH_SHORT).show();
                 fileRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {
                     @Override
                     public void onSuccess(Uri uri) {
-                        //ImageView imageProfilEdit = null;
                         Picasso.get().load(uri).into(imageprofil);
 
                     }
