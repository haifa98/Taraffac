Index: app/src/main/java/com/example/taraffac/register.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.taraffac;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\npublic class register extends AppCompatActivity {\r\n    public static final String TAG = \"TAG\";\r\n    ImageView return_main2;\r\n    Button go_register_to_home1;\r\n    EditText name,email,pass ;\r\n    //long maxid =0;\r\n   // User user;\r\n    FirebaseAuth fAuth;\r\n    FirebaseFirestore fStore;\r\n    String userID;\r\n  // String Display_Option;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        final DatabaseReference myRef = database.getReference().child(\"User\") ;\r\n\r\n       /* myRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.exists() )\r\n                    maxid = (snapshot.getChildrenCount());\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });*/\r\n\r\n        setContentView(R.layout.activity_register);\r\n        return_main2= findViewById(R.id.image_back2);\r\n        go_register_to_home1=findViewById(R.id.butt_register);\r\n\r\n        name =  findViewById(R.id.NAME);\r\n        email = findViewById(R.id.email_register);\r\n        pass =  findViewById(R.id.password_register);\r\n\r\n        fAuth = FirebaseAuth.getInstance();\r\n        fStore= FirebaseFirestore.getInstance();\r\n\r\n      // if(fAuth.getCurrentUser() != null){\r\n         //  Intent go_home1 = new Intent(getApplicationContext(),map.class);\r\n         //  startActivity(go_home1);\r\n         //  finish();\r\n       // }\r\n\r\n       // user= new User();\r\n        go_register_to_home1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n              /*  user.setUsername(name.getText().toString().trim());\r\n                user.setEmail(email.getText().toString().trim());\r\n                user.setPassword(pass.getText().toString().trim());\r\n\r\n                myRef.child(String.valueOf(maxid+1)).setValue(user);\r\n\r\n               Toast.makeText(register.this, \" User is registered\"  , Toast.LENGTH_SHORT).show();*/\r\n\r\n              final String Email = email.getText().toString().trim();\r\n             final String Pass = pass.getText().toString().trim();\r\n              //amjad\r\n                final String Name = name.getText().toString().trim();\r\n                //final String type = Display_Option;\r\n\r\n                //amjad\r\n\r\n              if(TextUtils.isEmpty(Email)){\r\n                  email.setError(\"Email is Required\");\r\n                  return;\r\n              }\r\n              if(TextUtils.isEmpty(Pass)){\r\n                  pass.setError(\"Password is Required\");\r\n                  return;\r\n              }\r\n              if(Pass.length() < 6){\r\n                  pass.setError(\"Password Must be 6 Characters\");\r\n                  return;\r\n              }\r\n\r\n              fAuth.createUserWithEmailAndPassword(Email,Pass).addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n                  @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n                  @Override\r\n                  public void onComplete(@NonNull Task<AuthResult> task) {\r\n                      if(task.isSuccessful()){\r\n                          Toast.makeText(register.this, \" User is registered\"  , Toast.LENGTH_SHORT).show();\r\n                          //aamjad\r\n                          userID = fAuth.getCurrentUser().getUid();\r\n                          DocumentReference documentReferenc = fStore.collection(\"users\").document(userID);\r\n                          Map<String , Object> user = new HashMap<>();\r\n                          user.put(\"Name\",Name);\r\n                          user.put(\"email\" , Email);\r\n                          user.put(\"password\" , Pass);\r\n                        user.put(\"addingType\" ,\"Display Option\");\r\n\r\n\r\n                          documentReferenc.set(user).addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                              @Override\r\n                              public void onSuccess(Void aVoid) {\r\n                                  Log.d(TAG, \"onSuccess: user Profile is created for \"+ userID);\r\n                              }\r\n                          });\r\n                          //amjad\r\n\r\n                         Intent go_home1 = new Intent(getApplicationContext(),profile.class);\r\n                         startActivity(go_home1);\r\n\r\n                      }else {\r\n                          Toast.makeText(register.this, \" Error \" + Objects.requireNonNull(task.getException()).getMessage()  , Toast.LENGTH_SHORT).show();\r\n                      }\r\n                  }\r\n              });\r\n                /*Intent go_home1 = new Intent(getApplicationContext(),view_speed_bump.class);\r\n                startActivity(go_home1);*/\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public void return_main2(View view) {\r\n        onBackPressed();\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/taraffac/register.java	(revision 67d882e5893291e11df7fbc802b3923005d2f879)
+++ app/src/main/java/com/example/taraffac/register.java	(date 1606311197918)
@@ -141,7 +141,7 @@
                           });
                           //amjad
 
-                         Intent go_home1 = new Intent(getApplicationContext(),profile.class);
+                         Intent go_home1 = new Intent(getApplicationContext(),map.class);
                          startActivity(go_home1);
 
                       }else {
